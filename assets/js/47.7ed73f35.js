(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{453:function(t,e,s){"use strict";s.r(e);var n=s(2),a=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("最近笔者学习了有关 Vue 插槽的知识，也做了一些小案例加深了对其的理解。本文笔者便分享出来自己对于它的理解。")]),t._v(" "),e("h2",{attrs:{id:"原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#原理"}},[t._v("#")]),t._v(" 原理")]),t._v(" "),e("p",[t._v("官方对于插槽作用的定义是这样的：让父组件可以向子组件指定位置插入 html 结构。很多人看到可能会有点难以理解，别急，让我们通过一个小案例来讲解。首先，我们有一个父组件 School 和一个子组件 student，分别展示了以下的内容。")]),t._v(" "),e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7610c11e24324152a6b4e1fc44f2e8c0~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("但这时候父组件就说了：哎，那啥啥啥 student 怎么只展示了这个，我有一个学生列表数据，你给我展示出来。这是子组件听见了就答应：好嘞！就在自己的组件中写了一个列表给他展示出来。")]),t._v(" "),e("p",[e("strong",[t._v("School.vue:")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<Student :listData="studentInfo" />\n')])])]),e("p",[e("strong",[t._v("Student.vue:")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' \n<ul>\n       \n  <li v-for="(item,index) in listData" :key="item.id">        {{item}}      </li>\n   \n</ul>\n')])])]),e("p",[e("strong",[t._v("效果")])]),t._v(" "),e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ef16b323f1641fd9d6bd2f8781d62bb~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("但这时候 School 组件又有一个学生宿舍的信息要展示,便多叫了一个学生来干活。")]),t._v(" "),e("p",[e("strong",[t._v("School.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <Student :listData="studentInfo" />  <Student :listData="dormitoryInfo" />\n')])])]),e("p",[e("strong",[t._v("效果")])]),t._v(" "),e("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7feaeebd86304b2181cc46d96c54ae94~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("但这个时候 School 又说了我宿舍信息不想展示列表了，我有个宿舍图你给我展示一下，这时候子组件又完成了甲方（学校）的任务")]),t._v(" "),e("p",[e("strong",[t._v("Student.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' \x3c!-- <ul>\n      <li v-for="(item,index) in listData" :key="item.id">\n          {{item}}\n      </li>\n  </ul> --\x3e\n <img :src="listData" alt="" />\n')])])]),e("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7e79ce154deb4b0aa4e5d2971f53b2d6~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("甲方（学校）看到效果之后就说哎，你咋把我学生列表整没了呢，让你做个事情都做不好，下去操场给我跑两圈（开玩笑）。这个时候插槽表现的时候就来了。")]),t._v(" "),e("p",[e("strong",[t._v("Student.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<h3>这是子组件student</h3>\n<slot></slot>\n")])])]),e("p",[e("strong",[t._v("School.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <Student>\n     \n  <ul>\n         \n    <li v-for="(item,index) in studentInfo" :key="item.id">        {{item}}      </li>\n     \n  </ul>\n   </Student\n>\n <Student>      <img :src="dormitoryImg" alt="" />  </Student>\n')])])]),e("p",[e("strong",[t._v("效果")])]),t._v(" "),e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/11ff91724ec04d0db949e2ab72e98b0c~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("这个时候甲乙方（School 和 Student）都露出了笑脸。好了，这个时候我们就知道插槽的"),e("strong",[t._v("使用场景")]),t._v("了：当你有很多的页面都一样，其中只有部分的结构不同（例如上文的学生信息和宿舍图），便可以使用"),e("strong",[t._v("插槽")]),t._v("。"),e("strong",[t._v("插槽")]),t._v("分为")]),t._v(" "),e("p",[e("strong",[t._v("1.默认插槽")]),t._v("（匿名插槽）")]),t._v(" "),e("p",[t._v("2."),e("strong",[t._v("具名插槽")]),t._v("：比如说你一个页面有很多插槽")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<slot></slot><slot></slot><slot></slot>\n")])])]),e("p",[t._v("这个时候你父组件传入结构怎么知道谁是谁呢？这个时候只要这样（以上文为例）")]),t._v(" "),e("p",[e("strong",[t._v("student.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<slot name="studentInfo"></slot> <slot name="dormitoryImg"></slot>\n')])])]),e("p",[e("strong",[t._v("School.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(' <Student>\n       <--这种方法不建议，div占用一个结构，在浏览器中会显示--\x3e  \n  <div slot="studentInfo">\n       \n    <ul>\n           \n      <li v-for="(item,index) in studentInfo" :key="item.id">        {{item}}      </li>\n         \n    </ul>\n     \n  </div>\n   </Student\n>\n <Student>\n       <--使用模板template不占用结构，推荐使用--\x3e          <--slot="dormitoryImg"也可直接用#dormitoryImg简写  \n   （等于v-slot="dormitoryImg"）--\x3e      <template slot="dormitoryImg">\n          <img :src="dormitoryImg" alt="" />      </template\n  >\n   </Student\n>\n')])])]),e("p",[t._v("还有一个就是"),e("strong",[t._v("作用域插槽")]),t._v(" 就是"),e("strong",[t._v("数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定")]),t._v("。对于上面的案例来说就是 studentInfo 列表数据在 Student 组件中，但使用数据所遍历出来的结构由 School 组件决定")]),t._v(" "),e("p",[t._v("上面案例的数据我都是放在父组件 School 当中，现在比如说学生信息的数据我给他放到 Student 组件中，现在 School 组件用有序列表遍历，无序列表遍历我也给他留着。")]),t._v(" "),e("p",[t._v("这个时候子组件的代码就需要改成这样")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<--studentInfo在Student组件的data中--\x3e      \n<slot :studentInfo="studentInfo"></slot>\n')])])]),e("p",[t._v("然后父组件通过 scope 获取数据，注意这时候获取的不是 student 列表数据")]),t._v(" "),e("p",[t._v("要通过 xx.studentInfo 才能获取到")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('    <Student>\n      <template scope="data">\n        <ol>\n          <li v-for="(item, index) in data.studentInfo" :key="item.id">\n            {{ item }}\n          </li>\n        </ol>\n      </template>\n    </Student>\n')])])]),e("p",[e("strong",[t._v("效果")])]),t._v(" "),e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3498f4b348cd49929197c8b4fba1529c~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("h2",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),e("p",[t._v("好了，以上就是笔者学习的有关"),e("strong",[t._v("Vue 插槽")]),t._v("的内容了，毕竟笔者能力有限，有错误的地方希望可以提出来，我们一起进步，谢谢！")])])}),[],!1,null,null,null);e.default=a.exports}}]);