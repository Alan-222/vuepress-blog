(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{444:function(t,s,a){"use strict";a.r(s);var e=a(2),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),s("p",[t._v("最近，因为想要系统地学习一下"),s("code",[t._v("ES6")]),t._v("看到了阮一峰老师的《ES6 入门教程》，顿感自己之前所学不够深入不够成体系，故以此文来记录一下其过程中的所思、所学、所想。")]),t._v(" "),s("h2",{attrs:{id:"let-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#let-命令"}},[t._v("#")]),t._v(" let 命令")]),t._v(" "),s("p",[t._v("let 命令为"),s("code",[t._v("ES6")]),t._v("中新增的声明变量的命令。使用"),s("code",[t._v("let")]),t._v("声明的变量仅在块级作用域中有效，那么为什么需要块级作用域呢？")]),t._v(" "),s("h3",{attrs:{id:"为什么需要块级作用域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要块级作用域"}},[t._v("#")]),t._v(" 为什么需要块级作用域")]),t._v(" "),s("p",[t._v("在"),s("code",[t._v("ES5")]),t._v("时只有全局作用域以及函数作用域，这样的话在很多场景下其实是会出现问题的。")]),t._v(" "),s("p",[t._v("第一种就是变量的覆盖")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//2")]),t._v("\n")])])]),s("p",[t._v("第二种循环时循环变量值存在污染问题")]),t._v(" "),s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cb850769b750436c82af74c6588c2e0d~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),s("p",[t._v("但是点击时却都是显示第四个，因为点击监听事件是异步执行的，当点击按钮执行相应函数之前，同步任务(循环)已经执行结束，此时在全局作用域下的 i 已经为固定值。执行"),s("code",[t._v("alert(i)")]),t._v("时，沿着作用域链找到全局作用域下的"),s("code",[t._v("i")]),t._v(" ，导致点击每个按钮得到的结果相同。但是如果用"),s("code",[t._v("let")]),t._v("声明"),s("code",[t._v("i")]),t._v("，就不会存在此问题。")]),t._v(" "),s("p",[t._v("其实不止有这两个问题，其他诸如函数嵌套、函数中用"),s("code",[t._v("if")]),t._v("、"),s("code",[t._v("for")]),t._v("都会有类似的问题，所以块级作用域是必要的！")]),t._v(" "),s("h3",{attrs:{id:"let-相比-var-的限制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#let-相比-var-的限制"}},[t._v("#")]),t._v(" let 相比 var 的限制")]),t._v(" "),s("p",[t._v("1."),s("code",[t._v("let")]),t._v("不存在变量提升")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//undefined")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//报错")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),s("p",[s("code",[t._v("let")]),t._v("不存在变量提升，在声明变量前使用就会报错。而此时未声明变量前的区域其实是存在暂时性死区（即使用变量就报错）！")]),t._v(" "),s("p",[t._v("2."),s("code",[t._v("let")]),t._v("不允许重复声明")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//报错")]),t._v("\n")])])]),s("h2",{attrs:{id:"const-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#const-命令"}},[t._v("#")]),t._v(" const 命令")]),t._v(" "),s("p",[s("code",[t._v("const")]),t._v("与"),s("code",[t._v("let")]),t._v("大致相似，都不存在变量提升（存在暂时性死区）、重复定义，拥有块级作用域。但"),s("code",[t._v("const")]),t._v("用来声明常量，"),s("code",[t._v("let")]),t._v("用来声明变量，且"),s("code",[t._v("const")]),t._v("定义的值不能修改。")]),t._v(" "),s("blockquote",[s("p",[t._v("但若用 const 定义对象，因为对象的变量保存的是地址值，所以是可以修改对应对象的属性值，但不可直接对其本身变量赋值(会报变量已定义的错)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tom'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("age")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\na"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'daming'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tom'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//报错Identifier 'a' has already been declared")]),t._v("\n")])])]),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("p",[t._v("总的来看，定义变量时就用"),s("code",[t._v("let")]),t._v("，定义常量时就用"),s("code",[t._v("const")]),t._v("。而且现在的数据类型多以对象以及数组居多，所以"),s("code",[t._v("const")]),t._v("的使用是更为频繁的！")])])}),[],!1,null,null,null);s.default=r.exports}}]);