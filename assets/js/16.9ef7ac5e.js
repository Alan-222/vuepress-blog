(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{422:function(t,e,a){"use strict";a.r(e);var o=a(2),v=Object(o.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("也许你对正常的文档流中的默认的定位不是很满意，想使其脱离正常的文档流，本篇文章将会介绍定位的"),e("code",[t._v("CSS")]),t._v("技术来解决这个问题。但在这之前，我们再复习一下正常文档流是什么。")]),t._v(" "),e("h2",{attrs:{id:"正常文档流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#正常文档流"}},[t._v("#")]),t._v(" 正常文档流")]),t._v(" "),e("p",[t._v("正常文档流又称普通文档流或普通流。")]),t._v(" "),e("p",[t._v("它的定义是："),e("strong",[t._v("把页面分为一行一行的，其中块元素单独占一行，相邻的行内元素从左到右排成一行直到该行排满")]),t._v("。")]),t._v(" "),e("p",[t._v("正常文档流就是页面默认元素的布局。想要使其脱离正常的文档流，除了上文提到的浮动外，还有定位。")]),t._v(" "),e("h2",{attrs:{id:"定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定位"}},[t._v("#")]),t._v(" 定位")]),t._v(" "),e("h3",{attrs:{id:"什么是定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是定位"}},[t._v("#")]),t._v(" 什么是定位")]),t._v(" "),e("blockquote",[e("p",[t._v("定位的想法是允许去覆盖正常文档流的默认行为。它可以使布局中一些元素的位置变动，甚至使一些元素浮动在其他部分顶部或始终固定在页面中的某个位置。但有许多不同种类型的定位可以对"),e("code",[t._v("html元素")]),t._v("生效，可通过"),e("code",[t._v("position")]),t._v("属性来实现。")])]),t._v(" "),e("h3",{attrs:{id:"定位的种类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定位的种类"}},[t._v("#")]),t._v(" 定位的种类")]),t._v(" "),e("h4",{attrs:{id:"静态定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#静态定位"}},[t._v("#")]),t._v(" 静态定位")]),t._v(" "),e("p",[t._v("静态定位是每个元素"),e("code",[t._v("position")]),t._v("获取的默认值，它只是将元素放入它在文档布局流中的正常位置 。")]),t._v(" "),e("p",[t._v("可以尝试在正常文档流的"),e("code",[t._v("html")]),t._v("元素中加入"),e("code",[t._v("position:static")]),t._v("的"),e("code",[t._v("css")]),t._v("语句，最终看到与原来效果一致。")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<body>\n    <style>\n        .normalBox {\n            width: 400px;\n            height: 100px;\n            border: 2px solid black;\n            position: static;\n            margin-top: 20px;\n        }\n        .relativeBox {\n            width: 400px;\n            height: 100px;\n            border: 2px solid black;\n            margin-top: 20px;\n        }\n        .absoluteBox {\n            width: 400px;\n            height: 100px;\n            border: 2px solid black;\n            margin-top: 20px;\n        }\n    </style>\n    <h1>position</h1>\n    <div class="container">\n    <div class="normalBox">\n        <p>This is a static box.</p>\n    </div>\n    <div class="relativeBox">\n        <p>This is a relative box.</p>\n    </div>\n    <div class="absoluteBox">\n        <p>This is a absolute box.</p>\n    </div>\n    </div>\n</body>\n')])])]),e("p",[e("strong",[t._v("效果：")])]),t._v(" "),e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b1f551c5e0a54f52b79bc67207ad8945~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("h4",{attrs:{id:"相对定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#相对定位"}},[t._v("#")]),t._v(" 相对定位")]),t._v(" "),e("p",[t._v("相对定位是相对自己原本在正常文档流中的位置进行位置的变动。位置的变动是通过"),e("code",[t._v("top")]),t._v(", "),e("code",[t._v("bottom")]),t._v(", "),e("code",[t._v("left")]),t._v("和 "),e("code",[t._v("right")]),t._v("设定大小来精确指定要将定位元素移动到的位置。")]),t._v(" "),e("blockquote",[e("p",[t._v("注意这里的"),e("code",[t._v("top")]),t._v(", "),e("code",[t._v("bottom")]),t._v(", "),e("code",[t._v("left")]),t._v("和 "),e("code",[t._v("right")]),t._v("指定大小后不是向上、向下移动多少距离，而是向其相反反向移动。比如说设定"),e("code",[t._v("top:20px")]),t._v("是相对上方向"),e("strong",[t._v("推开")]),t._v("20 像素的距离，其他同理。")])]),t._v(" "),e("p",[t._v("我们来试验一下，在上例的"),e("code",[t._v("relativeBox")]),t._v("的类中添加如下语句")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(".relativeBox {\n   position:relative;\n   top:30px;\n   left:30px\n}\n")])])]),e("p",[t._v("可以看到下图盒子向下、向右移动了 30 像素，并且不会影响正常布局的元素（覆盖）")]),t._v(" "),e("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2c2e1406bc234dad979bed37c3b38da6~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("h4",{attrs:{id:"绝对定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#绝对定位"}},[t._v("#")]),t._v(" 绝对定位")]),t._v(" "),e("p",[t._v("绝对定位的元素比较特殊，它不再存在于正常文档布局流中。相反，它坐在它自己的层独立于一切。我们删除上例对"),e("code",[t._v("relativeBox")]),t._v("的类的更改，往"),e("code",[t._v("absoluteBox")]),t._v("类下添加一个相同的盒子，并对其添加如下语句")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v(".absolute{\n    position:absolute;\n    top:30px;\n    left:30px;\n}\n")])])]),e("p",[e("strong",[t._v("效果：")])]),t._v(" "),e("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/540d009e53e14624b9849de95c75c674~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("可以看到绝对定位的元素不再存在于正常文档流中（相当于处于正常文档流中的元素可以无视它），所以原本处于"),e("code",[t._v("relative box")]),t._v("下的"),e("code",[t._v("absolute box")]),t._v("直接移到了距"),e("code",[t._v("body")]),t._v("右下 30 像素的位置，而原本处于其下的则顶到正常流的位置。")]),t._v(" "),e("h4",{attrs:{id:"定位上下文"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定位上下文"}},[t._v("#")]),t._v(" 定位上下文")]),t._v(" "),e("p",[t._v("绝对定位的元素的参考元素应该是哪个元素？这取决于绝对定位元素的父元素的 "),e("code",[t._v("position")]),t._v(" 属性。")]),t._v(" "),e("blockquote",[e("p",[t._v("如果所有的父元素都没有显式地定义 position 属性，那么所有的父元素默认情况下 position 属性都是 "),e("code",[t._v("static")]),t._v("。结果，绝对定位元素会被包含在"),e("strong",[t._v("初始块容器")]),t._v("中。这个初始块容器有着和浏览器视口一样的尺寸，并且 html 元素也被包含在这个容器里面。简单来说，绝对定位元素会被放在 html 元素的外面，并且根据浏览器视口来定位。")])]),t._v(" "),e("blockquote",[e("p",[t._v("绝对定位元素在 HTML 源代码中，是被放在 body 中的，也就是相对 body 来定位（body 作为参考元素）。我们可以改变"),e("strong",[t._v("定位上下文")]),t._v(" —— 绝对定位的元素的相对位置元素。通过设置其中一个父元素的定位属性 —— 也就是包含绝对定位元素的那个元素（如果要设置绝对定位元素的相对元素，那么这个元素一定要包含绝对定位元素）。")])]),t._v(" "),e("p",[t._v("为了演示这一点，将以下语句添加到上例的"),e("code",[t._v("container")]),t._v("类中：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("position: relative;\n")])])]),e("p",[t._v("应该得到以下结果：")]),t._v(" "),e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7caec07a5ef24f9f8492ccb8f2cdfac3~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("现在就是相对于直接父元素"),e("code",[t._v("container")]),t._v("来定位了")]),t._v(" "),e("h4",{attrs:{id:"z-index-更改堆叠顺序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#z-index-更改堆叠顺序"}},[t._v("#")]),t._v(" z-index 更改堆叠顺序")]),t._v(" "),e("p",[t._v("由于脱离正常文档流，绝对定位的元素会存在与其他元素重叠的可能。这个时候会需要改变堆叠的顺序来决定谁处于顶部。我们通过上例来尝试 一下，先将各个盒子都添加上背景颜色（比较容易看出堆叠的顺序）。")]),t._v(" "),e("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/58a4ed00529d4ad893cbcf06b00cd595~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("p",[t._v("可以看出现在绝对定位元素是在它们上面。")]),t._v(" "),e("blockquote",[e("p",[t._v("没有使用 z-index 的时候，元素的层叠关系由 2 个因素决定：")])]),t._v(" "),e("blockquote",[e("ol",[e("li",[t._v("该元素的 position 是否是 static，如果是 static（等同于没有设置 position，因为 static 就是默认值）那么这个元素就称为 non-positioned ；反之，如果 position 值是 relative, absolute, fixed, 或 sticky 则称 positioned。 "),e("strong",[t._v("positioned 元素享受特权，会覆盖 non-positioned 元素")]),t._v("。而且只有 positioned 元素设置 z-index 才有效。 而 non-positioned 元素中，"),e("strong",[t._v("有 float 样式的元素覆盖 没有 float 的")]),t._v("。")]),t._v(" "),e("li",[t._v("元素的“出场”顺序 —— 即在 html 中的顺序，"),e("em",[t._v("同类型元素")]),t._v("遵循"),e("strong",[t._v("后来者居上")]),t._v("的原则。")])])]),t._v(" "),e("p",[t._v("现在我们将绝对定位元素添加一个"),e("code",[t._v("z-index:-1;")])]),t._v(" "),e("blockquote",[e("p",[t._v("z-index 只接受无单位索引值，值越大越顶层")])]),t._v(" "),e("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2a500617270342dca49ca762aaaa3065~tplv-k3u1fbpfcp-watermark.image?",alt:"img.png",referrerpolicy:"no-referrer"}}),t._v(" "),e("h4",{attrs:{id:"固定定位"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#固定定位"}},[t._v("#")]),t._v(" 固定定位")]),t._v(" "),e("p",[t._v("最后一种类型的定位"),e("code",[t._v("position:fixed;")]),t._v("这与绝对定位的工作方式完全相同，只有一个主要区别：绝对定位将元素固定在相对于其位置最近的祖先。（如果没有，则为初始包含它的块）而固定定位固定元素则是相对于浏览器视口本身。这种定位在布置导航栏时是十分有效的。")])])}),[],!1,null,null,null);e.default=v.exports}}]);